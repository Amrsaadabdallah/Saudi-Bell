{"version":3,"sources":["content/js/timeline.js"],"names":["Timeline","wrapper","data","wrapperId","document","getElementById","slidesWidth","docWidth","window","innerWidth","timelineInner","nodes","sort","sortNodesByDate","injectHTML","querySelector","querySelectorAll","checkScreenSize","length","addEventListener","mouseListen","bind","windowSizeChange","initNodeListen","property","sortOrder","substr","a","b","result","i","nodeListen","e","mouseX","percentMouse","pageX","offset","style","transform","getBoundingClientRect","left","content","children","right","classList","remove","add","timelineWrapper","createElement","appendChild","timeline","line","nodeWrapper","tlNode","innerHTML","year","title","TIMELINE_DATA","image","location","href","includes","init"],"mappings":"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","file":"timeline.72e6a968.js","sourceRoot":"..","sourcesContent":["class Timeline {\r\n\r\n    constructor(wrapper, data) {\r\n      this.data = data;\r\n      this.wrapperId = wrapper;\r\n      this.wrapper = document.getElementById(wrapper);\r\n\r\n      this.slidesWidth = 0;\r\n      this.docWidth = window.innerWidth;\r\n\r\n      this.timelineInner = null;\r\n      this.nodes = null;\r\n    }\r\n\r\n    init() {\r\n      if (this.data) {\r\n        this.data = this.data.sort(this.sortNodesByDate('year')); //sort nodes by year\r\n\r\n        this.injectHTML();\r\n\r\n        this.timelineInner = document.querySelector(`#${this.wrapperId} .timeline`);\r\n        this.nodes = document.querySelectorAll(`#${this.wrapperId} .tl-node`)\r\n\r\n        if (this.checkScreenSize()) {\r\n          this.slidesWidth = 200 * this.nodes.length;\r\n          let rangeX = this.slidesWidth - this.docWidth;\r\n\r\n          this.wrapper.addEventListener(\"mousemove\", this.mouseListen.bind(this)); //hover within wrapper (horizontal scrolling)\r\n          window.addEventListener(\"resize\", this.windowSizeChange.bind(this)); //hover within wrapper (horizontal scrolling)\r\n          this.initNodeListen(); //hover individual node\r\n        }\r\n      }\r\n    }\r\n\r\n    sortNodesByDate(property) {\r\n      var sortOrder = 1;\r\n      if (property[0] === \"-\") {\r\n        sortOrder = -1;\r\n        property = property.substr(1);\r\n      }\r\n      return function(a, b) {\r\n        var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\r\n        return result * sortOrder;\r\n      }\r\n    }\r\n\r\n    initNodeListen() {\r\n      for (let i = 0; i < this.nodes.length; i++) {\r\n        this.nodes[i].addEventListener(\"mouseenter\", this.nodeListen);\r\n      }\r\n    }\r\n\r\n    mouseListen(e) {\r\n      if (this.checkScreenSize()) {\r\n        var mouseX = e.pageX,\r\n          percentMouse = mouseX * 100 / this.docWidth,\r\n          offset = percentMouse / 100 * this.slidesWidth - percentMouse / 200 * this.docWidth;\r\n\r\n        this.timelineInner.style.transform = 'translate3d(' + -offset + 'px,0,0)'\r\n      }\r\n    };\r\n\r\n    nodeListen() {\r\n      let offset = this.getBoundingClientRect().left,\r\n        content = this.children[2];\r\n      if (offset > (window.innerWidth / 2)) {\r\n        // lock modal to the right\r\n        content.style.left = 'auto';\r\n        content.style.right = '-10px';\r\n        content.classList.remove('left-triangle');\r\n        content.classList.add('right-triangle');\r\n      } else {\r\n        // lock modal to the left\r\n        content.style.left = '-10px';\r\n        content.style.right = 'auto';\r\n        content.classList.add('left-triangle');\r\n        content.classList.remove('right-triangle');\r\n      }\r\n    }\r\n\r\n    windowSizeChange() {\r\n      if (!this.checkScreenSize()) {\r\n        this.timelineInner.style.transform = 'translate3d(0,0,0)';\r\n      }\r\n    }\r\n\r\n    checkScreenSize() {\r\n      if (window.innerWidth > 800) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    injectHTML() {\r\n      let timelineWrapper = document.createElement(\"section\");\r\n      timelineWrapper.classList.add('timeline-wrapper');\r\n      this.wrapper.appendChild(timelineWrapper);\r\n\r\n      let timeline = document.createElement(\"div\");\r\n      timeline.classList.add('timeline');\r\n      timelineWrapper.appendChild(timeline);\r\n\r\n      let line = document.createElement(\"div\");\r\n      line.classList.add('line');\r\n      timelineWrapper.appendChild(line);\r\n\r\n      let nodeWrapper = document.createElement(\"div\");\r\n      nodeWrapper.classList.add('node-wrapper');\r\n      timeline.appendChild(nodeWrapper);\r\n\r\n      for (let i = 0; i < this.data.length; i++) {\r\n        let tlNode = document.createElement(\"div\");\r\n        tlNode.classList.add('tl-node');\r\n\r\n        tlNode.innerHTML = `\r\n          <p class=\"above-year\">${this.data[i].year}</p>\r\n          <div class=\"dot\"></div>\r\n          <div class=\"data left-triangle\" style=\"left: -10px; right: auto;\">\r\n            <div class=\"upper\">\r\n              <h5>${this.data[i].year}</h5>\r\n              <h3>${this.data[i].title}</h3>\r\n            </div>\r\n          </div>`\r\n\r\n        nodeWrapper.appendChild(tlNode);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\nconst TIMELINE_DATA = [\r\n  {\r\n      year: \"1985\",\r\n      title: \"Saudi Bell was founded in Riyadh\",\r\n      image: \"https://picsum.photos/600/400\",\r\n  },\r\n  {\r\n      year: \"1991\",\r\n      title: \"Became a key provider for IT, <br>telecom and physical security\",\r\n      image: \"https://picsum.photos/600/400\",\r\n  },\r\n  {\r\n      year: \"1996\",\r\n      title: \"Established Jeddah branch\",\r\n      image: \"https://picsum.photos/600/400\",\r\n  },\r\n  {\r\n      year: \"1997\",\r\n      title: \"Established Jeddah branch\",\r\n      image: \"https://picsum.photos/600/400\",\r\n  },\r\n  {\r\n      year: \"2000\",\r\n      title: \"Established Dammam branch\",\r\n      image: \"https://picsum.photos/600/400\",\r\n  },\r\n  {\r\n      year: \"2021\",\r\n      title: \"Expanding regionally to serve <br>the Middle East\",\r\n      image: \"https://picsum.photos/600/400\",\r\n  },\r\n  ];\r\n\r\n\r\n  if(window.location.href.includes(\"about\")){\r\n  let timeline = new Timeline(\"timeline\", TIMELINE_DATA);\r\n  timeline.init();\r\n  }\r\n\r\n\r\n"]}